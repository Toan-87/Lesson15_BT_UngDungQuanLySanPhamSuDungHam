<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ứng dụng quản lý sản phẩm sử dụng hàm</title>
</head>
<body>
<div>
    <h2>Add New Product</h2>
    <input type="text" id="newProduct" placeholder="New Product">
    <button onclick="addNewProducts()">Add</button>
</div>
<hr>
<h2>Edit Product</h2>
<div id="editForm"></div>
<hr>
<h2>Display All Product</h2>
<div id="productManagement"></div>

<script>
    let products = ['Sony Xperia', 'Samsung Galaxy', 'Nokia 6', 'Xiaomi Redmi Note 4', 'iPhone 13',
        'Xiaomi Mi 5S Plus', 'iPhone 10', 'Bphone', 'Oppo A71' ];
    function showAllProduct () {
        let table = `<table><tr><td>Product Name</td><td></td><td>${products.length}</td></tr>`;
        for (let i = 0; i< products.length; i++) {
            table += `<tr><td>${products[i]}</td><td><button onclick="showEditForm(${i})">Edit</button></td><td><button onclick="deleteProduct(${i})">Delete</button></td></tr>`
        }
        table += '</table>';
        document.getElementById('productManagement').innerHTML = table;
    }
    function addNewProducts () {
        let newproduct = document.getElementById('newProduct').value;
        products.push(newproduct);
        alert('Vua add product moi');
        showAllProduct();
    }
    function deleteProduct(index) {
        let answer = confirm('Ban co muon xoa khong');
        if (answer) {
            products.splice(index, 1);
            alert('Da xoa')
            showAllProduct();
        }else {
            alert('Ban da huy xoa');
        }
    }
    function showEditForm(index) {
        let editform = `<input type="text"
                        id="editProduct"
                        placeholder="Edit Product">
                        <button onclick="editProduct(${index})">Edit</button>`
        document.getElementById('editForm').innerHTML = editform;
        document.getElementById('editProduct').value = products[index];
    }
    function editProduct (index) {
        products[index] = document.getElementById('editProduct').value;
        showAllProduct();
    }
    showAllProduct();
</script>
</body>
</html>